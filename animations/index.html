<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="item">

    </div>
    <div class="container" id="bottom-container">

        <img src="https://images.unsplash.com/photo-1690839589361-e16bd93ac2bc?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxN3x8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=60"
            alt="" class="image" draggable="false">
        <img src="https://images.unsplash.com/photo-1690747233612-02f3021c5e0f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHw5fHx8ZW58MHx8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="" class="image" draggable="false">
        <img src="https://images.unsplash.com/photo-1690812099871-47b7f71c93af?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxMTB8fHxlbnwwfHx8fHw%3D&auto=format&fit=crop&w=500&q=60"
            alt="" class="image" draggable="false">
        <img src="https://images.unsplash.com/photo-1691158429157-452d88254002?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=60"
            alt="" class="image" draggable="false">
        <img src="https://plus.unsplash.com/premium_photo-1673002094103-b2657755f800?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwyMHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=60"
            alt="" class="image" draggable="false">
        <img src="https://images.unsplash.com/photo-1690651166371-6d5a5412db4b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwyNHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=60"
            alt="" class="image" draggable="false">
        <img src="https://images.unsplash.com/photo-1691077039347-9b6229a73c0c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwzNHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=60"
            alt="" class="image" draggable="false">
        <img src="https://images.unsplash.com/photo-1691097097106-4d8c330266f0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHw1N3x8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=60"
            alt="" class="image" draggable="false">
        <img src="https://images.unsplash.com/photo-1691118761157-4cc85bce479e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwzOXx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=60"
            alt="" class="image" draggable="false">
        <img src="https://plus.unsplash.com/premium_photo-1669996339476-4daf743ffec1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHw0NXx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=60"
            alt="" class="image" draggable="false">
        <!-- <div class="item"></div>
        <div class="item"></div>
        <div class="item"></div>
        <div class="item"></div>
        <div class="item"></div>
        <div class="item"></div>
        <div class="item"></div>
        <div class="item"></div>
        <div class="item"></div> -->
    </div>
    <div id="image-track" data-mouse-down-at="0" data-prev-percentage="0">

        <img src="https://images.unsplash.com/photo-1690839589361-e16bd93ac2bc?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxN3x8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=60"
            alt="" class="image" draggable="false">
        <img src="https://images.unsplash.com/photo-1690747233612-02f3021c5e0f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHw5fHx8ZW58MHx8fHx8&auto=format&fit=crop&w=500&q=60"
            alt="" class="image" draggable="false">
        <img src="https://images.unsplash.com/photo-1690812099871-47b7f71c93af?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxMTB8fHxlbnwwfHx8fHw%3D&auto=format&fit=crop&w=500&q=60"
            alt="" class="image" draggable="false">
        <img src="https://images.unsplash.com/photo-1691158429157-452d88254002?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=60"
            alt="" class="image" draggable="false">
        <img src="https://plus.unsplash.com/premium_photo-1673002094103-b2657755f800?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwyMHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=60"
            alt="" class="image" draggable="false">
        <img src="https://images.unsplash.com/photo-1690651166371-6d5a5412db4b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwyNHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=60"
            alt="" class="image" draggable="false">
        <img src="https://images.unsplash.com/photo-1691077039347-9b6229a73c0c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwzNHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=60"
            alt="" class="image" draggable="false">
        <img src="https://images.unsplash.com/photo-1691097097106-4d8c330266f0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHw1N3x8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=60"
            alt="" class="image" draggable="false">
        <img src="https://images.unsplash.com/photo-1691118761157-4cc85bce479e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwzOXx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=60"
            alt="" class="image" draggable="false">
        <img src="https://plus.unsplash.com/premium_photo-1669996339476-4daf743ffec1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHw0NXx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=60"
            alt="" class="image" draggable="false">
    </div>


    <script>
        const track = document.getElementById("image-track");
        const container = document.getElementById("bottom-container");
        window.onmousedown = e => {
            track.dataset.mouseDownAt = e.clientX;
            window.onmousemove = e => {
                console.log("MOUSE DOWN")
                if (track.dataset.mouseDownAt === "0") return;
                const mouseDelta = parseFloat(track.dataset.mouseDownAt) - e.clientX
                    , maxDelta = window.innerWidth / 2;
                const percentage = (mouseDelta / maxDelta) * -100
                    , nextPercentage = parseFloat(track.dataset.prevPercentage) + percentage;
                console.log(nextPercentage)
                if (nextPercentage > -100 && nextPercentage < 0) {
                    track.dataset.percentage = nextPercentage;
                    track.style.transform = `translate(${nextPercentage}%,-50%)`;
                    container.animate({ transform: `translate(${nextPercentage * .86}%,-0%)` }, { duration: 1200, fill: "forwards" });
                    track.animate({ transform: `translate(${nextPercentage}%,-50%)` }, { duration: 1200, fill: "forwards" });
                    for (const image of track.getElementsByClassName("image")) {
                        console.log(nextPercentage + 100)
                        // image.style.objectPosition = `${nextPercentage + 100}% 50%`;
                        image.animate({
                            objectPosition: `${100 + nextPercentage}% center`
                        }, { duration: 1200, fill: "forwards" })
                    }
                }

            }



        }

        window.onmouseup = e => {
            console.log("MOUSE UP")
            track.dataset.mouseDownAt = "0";
            track.dataset.prevPercentage = track.dataset.percentage;

        }


    </script>
</body>

</html>